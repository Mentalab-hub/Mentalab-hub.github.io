<!DOCTYPE html>
<html><head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="canonical" href="https://wiki.mentalab.com/integrations/stimulation/opensesame/">

    <title>
        
        OpenSesame | Wiki
        
    </title>

    
    <link href="https://wiki.mentalab.com/css/fontawesome.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

    
    <link rel="stylesheet" href="https://wiki.mentalab.com/css/ace.min.css">

    

</head>
<body><nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow sticky-top" id="navbarMain">
    <div class="container">
        <div>
            <a class="navbar-brand" href="/">
                <img style="padding:10px 10px 15px 10px;" src="https://mentalab.com/wp-content/uploads/2024/05/mentalab-logo.svg" />
                Wiki
            </a>
        </div>
        
    </div>
    <a class="nav-link" href="https://mentalab.com">
		<button class="btn btn-secondary mt-n1" style="margin: 0px 100px 0px 0px; ">mentalab.com</button>
	</a>
</nav>
<div class="container-fluid">
            <div class="row">

                <div class="docs-sidenav order-0 col-12 col-md-3 col-lg-2 col-xl-2 position-sticky border-right"><nav class="navbar navbar-expand-md navbar-light pl-0">
    <button class="navbar-toggler navbar-toggler-right collapsed" type="button" data-toggle="collapse" data-target="#sidenav-left-collapse" aria-controls="sidenav-left-collapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

     <div class="collapse navbar-collapse align-items-start flex-column" id="sidenav-left-collapse">
         <ul class="navbar-nav flex-column pt-3">
    <li data-nav-id="/quick-links/" class="nav-item my-1
        ">
        
        <a class="nav-link p-0" href="/quick-links/"><h6>Quick Links</h6></a>
    </li>
    <li data-nav-id="/user-guide/" class="nav-item my-1 haschildren
        ">
        
        <a class="nav-link p-0" href="/user-guide/"><h6>User Guide</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/user-guide/operating-instructions/" class="nav-item my-1">
                
                 <a href="/user-guide/operating-instructions/" class="nav-link p-0">
                    Operating Instructions
                </a>
        </li>
        <li data-nav-id="/user-guide/dry-electrode-guide/" class="nav-item my-1">
                
                 <a href="/user-guide/dry-electrode-guide/" class="nav-link p-0">
                    Dry Electrode Guide
                </a>
        </li>
        <li data-nav-id="/user-guide/led-light-guide/" class="nav-item my-1">
                
                 <a href="/user-guide/led-light-guide/" class="nav-link p-0">
                    LED Light Guide
                </a>
        </li>
        <li data-nav-id="/user-guide/button-guide/" class="nav-item my-1">
                
                 <a href="/user-guide/button-guide/" class="nav-link p-0">
                    Button Command Guide
                </a>
        </li>
        <li data-nav-id="/user-guide/cap-size-guide/" class="nav-item my-1">
                
                 <a href="/user-guide/cap-size-guide/" class="nav-link p-0">
                    Cap Size Guide
                </a>
        </li>
        <li data-nav-id="/user-guide/improving-impedances/" class="nav-item my-1">
                
                 <a href="/user-guide/improving-impedances/" class="nav-link p-0">
                    Improving Impedances
                </a>
        </li>
        <li data-nav-id="/user-guide/explorepy-commands/" class="nav-item my-1">
                
                 <a href="/user-guide/explorepy-commands/" class="nav-link p-0">
                    explorepy Command Guide
                </a>
        </li>
        <li data-nav-id="/user-guide/cleaning-disinfection-storage/" class="nav-item my-1">
                
                 <a href="/user-guide/cleaning-disinfection-storage/" class="nav-link p-0">
                    Cleaning, Disinfecting and Storing Mentalab Hardware
                </a>
        </li>
        <li data-nav-id="/user-guide/safety-recommendations/" class="nav-item my-1">
                
                 <a href="/user-guide/safety-recommendations/" class="nav-link p-0">
                    Safety Recommendations
                </a>
        </li>
        </ul>
    </li>
    <li data-nav-id="/event-triggers/" class="nav-item my-1
        ">
        
        <a class="nav-link p-0" href="/event-triggers/"><h6>Event Markers</h6></a>
    </li>
    <li data-nav-id="/applications/" class="nav-item my-1 haschildren
        ">
        
        <a class="nav-link p-0" href="/applications/"><h6>Applications</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/applications/motor-imagery-bci/" class="nav-item my-1">
                
                 <a href="/applications/motor-imagery-bci/" class="nav-link p-0">
                    Motor Imagery BCI
                </a>
        </li>
        <li data-nav-id="/applications/artefact-removal/" class="nav-item my-1">
                
                 <a href="/applications/artefact-removal/" class="nav-link p-0">
                    Artefact removal
                </a>
        </li>
        <li data-nav-id="/applications/sleep-actigraphy/" class="nav-item my-1">
                
                 <a href="/applications/sleep-actigraphy/" class="nav-link p-0">
                    Sleep Actigraphy
                </a>
        </li>
        <li data-nav-id="/applications/power-bands/" class="nav-item my-1">
                
                 <a href="/applications/power-bands/" class="nav-link p-0">
                    EOG Artifact Removal
                </a>
        </li>
        <li data-nav-id="/applications/ssvep/" class="nav-item my-1">
                
                 <a href="/applications/ssvep/" class="nav-link p-0">
                    SSVEP Experiments
                </a>
        </li>
        <li data-nav-id="/applications/easi-ecg/" class="nav-item my-1">
                
                 <a href="/applications/easi-ecg/" class="nav-link p-0">
                    EASI ECG
                </a>
        </li>
        <li data-nav-id="/applications/p300/" class="nav-item my-1">
                
                 <a href="/applications/p300/" class="nav-link p-0">
                    P300 Experiment
                </a>
        </li>
        <li data-nav-id="/applications/sleep-recording-protocol/" class="nav-item my-1">
                
                 <a href="/applications/sleep-recording-protocol/" class="nav-link p-0">
                    Sleep Recording Protocol
                </a>
        </li>
        <li data-nav-id="/applications/sleep-analysis/" class="nav-item my-1">
                
                 <a href="/applications/sleep-analysis/" class="nav-link p-0">
                    Sleep EEG Analysis
                </a>
        </li>
        <li data-nav-id="/applications/ecg-analysis/" class="nav-item my-1">
                
                 <a href="/applications/ecg-analysis/" class="nav-link p-0">
                    ECG Analysis
                </a>
        </li>
        <li data-nav-id="/applications/eegsynth/" class="nav-item my-1">
                
                 <a href="/applications/eegsynth/" class="nav-link p-0">
                    EEGSynth
                </a>
        </li>
        <li data-nav-id="/applications/spectrogram/" class="nav-item my-1">
                
                 <a href="/applications/spectrogram/" class="nav-link p-0">
                    Real-time Spectrogram
                </a>
        </li>
        <li data-nav-id="/applications/eeg-ecg-hypersync/" class="nav-item my-1">
                
                 <a href="/applications/eeg-ecg-hypersync/" class="nav-link p-0">
                    Synchronized EEG &amp; ECG with HyperSync and LSL
                </a>
        </li>
        <li data-nav-id="/applications/eeg-to-lamp/" class="nav-item my-1">
                
                 <a href="/applications/eeg-to-lamp/" class="nav-link p-0">
                    EEG to lamp brightness
                </a>
        </li>
        </ul>
    </li>
    <li data-nav-id="/integrations/" class="nav-item my-1 parent haschildren
        ">
        
        <a class="nav-link p-0" href="/integrations/"><h6>Integrations</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/integrations/supported-software/" class="nav-item my-1">
                
                 <a href="/integrations/supported-software/" class="nav-link p-0">
                    Supported Software
                </a>
        </li>
    <li data-nav-id="/integrations/stimulation/" class="nav-item my-1 parent haschildren
        ">
        
        <a class="nav-link p-0" href="/integrations/stimulation/"><h6>Stimulation</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/integrations/stimulation/psychopy/" class="nav-item my-1">
                
                 <a href="/integrations/stimulation/psychopy/" class="nav-link p-0">
                    PsychoPy
                </a>
        </li>
        <li data-nav-id="/integrations/stimulation/opensesame/" class="nav-item my-1 active">
                
                 <a href="/integrations/stimulation/opensesame/" class="nav-link p-0">
                    OpenSesame
                </a>
        </li>
        <li data-nav-id="/integrations/stimulation/e-prime/" class="nav-item my-1">
                
                 <a href="/integrations/stimulation/e-prime/" class="nav-link p-0">
                    E-Prime®
                </a>
        </li>
        <li data-nav-id="/integrations/stimulation/presentation/" class="nav-item my-1">
                
                 <a href="/integrations/stimulation/presentation/" class="nav-link p-0">
                    Presentation®
                </a>
        </li>
        <li data-nav-id="/integrations/stimulation/psychtoolbox/" class="nav-item my-1">
                
                 <a href="/integrations/stimulation/psychtoolbox/" class="nav-link p-0">
                    Psychtoolbox
                </a>
        </li>
        <li data-nav-id="/integrations/stimulation/5-neuropype-experiment-recorder/" class="nav-item my-1">
                
                 <a href="/integrations/stimulation/5-neuropype-experiment-recorder/" class="nav-link p-0">
                    
                </a>
        </li>
        </ul>
    </li>
    <li data-nav-id="/integrations/analysis/" class="nav-item my-1 haschildren
        ">
        
        <a class="nav-link p-0" href="/integrations/analysis/"><h6>Analysis</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/integrations/analysis/eeglab/" class="nav-item my-1">
                
                 <a href="/integrations/analysis/eeglab/" class="nav-link p-0">
                    EEGLAB
                </a>
        </li>
        <li data-nav-id="/integrations/analysis/mne-python/" class="nav-item my-1">
                
                 <a href="/integrations/analysis/mne-python/" class="nav-link p-0">
                    MNE Python
                </a>
        </li>
        <li data-nav-id="/integrations/analysis/fieldtrip/" class="nav-item my-1">
                
                 <a href="/integrations/analysis/fieldtrip/" class="nav-link p-0">
                    FieldTrip
                </a>
        </li>
        <li data-nav-id="/integrations/analysis/neuropype/" class="nav-item my-1">
                
                 <a href="/integrations/analysis/neuropype/" class="nav-link p-0">
                    NeuroPype
                </a>
        </li>
        <li data-nav-id="/integrations/analysis/besa-research/" class="nav-item my-1">
                
                 <a href="/integrations/analysis/besa-research/" class="nav-link p-0">
                    BESA Research
                </a>
        </li>
        <li data-nav-id="/integrations/analysis/neurokit2/" class="nav-item my-1">
                
                 <a href="/integrations/analysis/neurokit2/" class="nav-link p-0">
                    NeuroKit2
                </a>
        </li>
        <li data-nav-id="/integrations/analysis/6-brainstorm/" class="nav-item my-1">
                
                 <a href="/integrations/analysis/6-brainstorm/" class="nav-link p-0">
                    
                </a>
        </li>
        </ul>
    </li>
    <li data-nav-id="/integrations/interfaces/" class="nav-item my-1 haschildren
        ">
        
        <a class="nav-link p-0" href="/integrations/interfaces/"><h6>Interfaces</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/integrations/interfaces/lsl/" class="nav-item my-1">
                
                 <a href="/integrations/interfaces/lsl/" class="nav-link p-0">
                    Lab Streaming Layer(LSL)
                </a>
        </li>
        <li data-nav-id="/integrations/interfaces/brainflow/" class="nav-item my-1">
                
                 <a href="/integrations/interfaces/brainflow/" class="nav-link p-0">
                    BrainFlow
                </a>
        </li>
        </ul>
    </li>
    <li data-nav-id="/integrations/hardware/" class="nav-item my-1 haschildren
        ">
        
        <a class="nav-link p-0" href="/integrations/hardware/"><h6>Hardware</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/integrations/hardware/plux-biosignals/" class="nav-item my-1">
                
                 <a href="/integrations/hardware/plux-biosignals/" class="nav-link p-0">
                    PLUX Biosignals
                </a>
        </li>
        <li data-nav-id="/integrations/hardware/1-labbench/" class="nav-item my-1">
                
                 <a href="/integrations/hardware/1-labbench/" class="nav-link p-0">
                    
                </a>
        </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/faqs/" class="nav-item my-1
        ">
        
        <a class="nav-link p-0" href="/faqs/"><h6>FAQs</h6></a>
    </li>
    <li data-nav-id="/explore-desktop-guide/" class="nav-item my-1 haschildren
        ">
        
        <a class="nav-link p-0" href="/explore-desktop-guide/"><h6>Explore Desktop Guide</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/explore-desktop-guide/getting-started/" class="nav-item my-1">
                
                 <a href="/explore-desktop-guide/getting-started/" class="nav-link p-0">
                    Getting Started
                </a>
        </li>
        <li data-nav-id="/explore-desktop-guide/usage/" class="nav-item my-1">
                
                 <a href="/explore-desktop-guide/usage/" class="nav-link p-0">
                    Usage
                </a>
        </li>
        <li data-nav-id="/explore-desktop-guide/visualize/" class="nav-item my-1">
                
                 <a href="/explore-desktop-guide/visualize/" class="nav-link p-0">
                    Visualization
                </a>
        </li>
        <li data-nav-id="/explore-desktop-guide/record/" class="nav-item my-1">
                
                 <a href="/explore-desktop-guide/record/" class="nav-link p-0">
                    Recording
                </a>
        </li>
        <li data-nav-id="/explore-desktop-guide/impedance/" class="nav-item my-1">
                
                 <a href="/explore-desktop-guide/impedance/" class="nav-link p-0">
                    Impedance
                </a>
        </li>
        <li data-nav-id="/explore-desktop-guide/lsl/" class="nav-item my-1">
                
                 <a href="/explore-desktop-guide/lsl/" class="nav-link p-0">
                    Lab Streaming Layer
                </a>
        </li>
        <li data-nav-id="/explore-desktop-guide/other/" class="nav-item my-1">
                
                 <a href="/explore-desktop-guide/other/" class="nav-link p-0">
                    Other
                </a>
        </li>
        <li data-nav-id="/explore-desktop-guide/troubleshooting/" class="nav-item my-1">
                
                 <a href="/explore-desktop-guide/troubleshooting/" class="nav-link p-0">
                    Troubleshooting
                </a>
        </li>
        </ul>
    </li>
    <li data-nav-id="/explore-mobile-guide/" class="nav-item my-1 haschildren
        ">
        
        <a class="nav-link p-0" href="/explore-mobile-guide/"><h6>Explore Mobile App</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/explore-mobile-guide/download-installation/" class="nav-item my-1">
                
                 <a href="/explore-mobile-guide/download-installation/" class="nav-link p-0">
                    Download and Installation
                </a>
        </li>
        <li data-nav-id="/explore-mobile-guide/usage/" class="nav-item my-1">
                
                 <a href="/explore-mobile-guide/usage/" class="nav-link p-0">
                    Usage
                </a>
        </li>
        <li data-nav-id="/explore-mobile-guide/testing/" class="nav-item my-1">
                
                 <a href="/explore-mobile-guide/testing/" class="nav-link p-0">
                    Tests
                </a>
        </li>
        </ul>
    </li>
    <li data-nav-id="/explore-signals-guide/" class="nav-item my-1 haschildren
        ">
        
        <a class="nav-link p-0" href="/explore-signals-guide/"><h6>Explore Signals Guide</h6></a>
        <ul class="list-unstyled ml-2">
        <li data-nav-id="/explore-signals-guide/explore-signals-installation/" class="nav-item my-1">
                
                 <a href="/explore-signals-guide/explore-signals-installation/" class="nav-link p-0">
                    Installation
                </a>
        </li>
        <li data-nav-id="/explore-signals-guide/explore-signals-usage/" class="nav-item my-1">
                
                 <a href="/explore-signals-guide/explore-signals-usage/" class="nav-link p-0">
                    Usage
                </a>
        </li>
        </ul>
    </li>
        </ul>
    </div>
</nav>


</div>
                <div class="docs-toc large order-lg-2 order-md-0 order-xs-1 col-12 col-lg-2 col-xl-2 position-sticky border-left"><div class="docs-toc">
	<nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a>
      <ul>
        <li><a href="#hardware">Hardware</a></li>
        <li><a href="#software">Software</a></li>
        <li><a href="#how-it-works">How it Works</a></li>
      </ul>
    </li>
    <li><a href="#opensesame-experiment-structure">OpenSesame Experiment Structure</a></li>
    <li><a href="#step-by-step-setup">Step-by-Step Setup</a>
      <ul>
        <li><a href="#1-create-the-experiment-structure">1. Create the Experiment Structure</a></li>
        <li><a href="#2-configure-the-lsl-initialization-script">2. Configure the LSL Initialization Script</a></li>
        <li><a href="#3-configure-the-loop">3. Configure the Loop</a></li>
        <li><a href="#4-configure-the-stimulus-presentation">4. Configure the Stimulus Presentation</a></li>
        <li><a href="#5-configure-response-collection">5. Configure Response Collection</a></li>
        <li><a href="#6-configure-marker-transmission-script">6. Configure Marker Transmission Script</a></li>
      </ul>
    </li>
    <li><a href="#running-the-experiment">Running the Experiment</a>
      <ul>
        <li><a href="#step-1-start-lsl-monitoring">Step 1: Start LSL Monitoring</a></li>
        <li><a href="#step-2-start-streaming-with-hypersync-suit">Step 2: Start streaming with hypersync suit</a></li>
        <li><a href="#step-3-run-the-experiment-in-opensesame">Step 3: Run the Experiment in OpenSesame</a></li>
        <li><a href="#step-4-check-the-received-values-in-lsl-monitoring">Step 4: Check the received values in LSL monitoring</a></li>
      </ul>
    </li>
    <li><a href="#optional-python-script-for-listening-to-lsl-stream">Optional: Python Script for Listening to LSL Stream</a></li>
    <li><a href="#alternative-legacy-methods-wired-triggers">Alternative (Legacy) Methods: Wired Triggers</a></li>
  </ul>
</nav>
</div>
</div>
                <div class="main col-12 order-1 col-md-9 col-lg-10 col-xl-8 py-3">
                

<h1>OpenSesame</h1>

<p>This guide details how to synchronize your Mentalab Explore device with OpenSesame experiments, focusing on high-precision synchronization of event markers using LabStreamingLayer (LSL) in combination with Mentalab Hypersync. This is the recommended approach for robust and accurate data alignment.</p>
<p>Legacy wired trigger methods are listed at the bottom.</p>
<h2 id="prerequisites">Prerequisites</h2>
<h3 id="hardware">Hardware</h3>
<ul>
<li><strong>Mentalab Explore Pro Device</strong>: An Explore Pro biosignal acquisition system.</li>
<li><strong>Mentalab Hypersync Add-on</strong>: This hardware is essential for accurately synchronizing LSL markers from OpenSesame with the Explore device&rsquo;s data stream.</li>
<li><strong>Computer</strong>: To run OpenSesame, LSL, and data recording script.</li>
</ul>
<h3 id="software">Software</h3>
<ul>
<li>OpenSesame (recent version)</li>
<li>Python with PyLSL: <code>pip install pylsl</code></li>
</ul>
<h3 id="how-it-works">How it Works</h3>
<ol>
<li><strong>OpenSesame Experiment</strong>: Generates event markers during stimulus presentation and response collection</li>
<li><strong>LSL Monitoring</strong>: LabStreamingLayer provides real-time streaming of these markers with precise timestamps</li>
<li><strong>Mentalab Hypersync</strong>: Merges ExG data with event markers via LSL for wireless, high-precision synchronization</li>
</ol>
<h2 id="opensesame-experiment-structure">OpenSesame Experiment Structure</h2>
<p>Based on the tree view shown, your experiment should follow this structure:</p>
<pre tabindex="0"><code>New experiment
├── experiment
    ├── init_lsl_script (Python script for LSL setup)
    └── loop
        └── sequence
            ├── sketchpad (stimulus presentation)
            ├── keyboard_response (response collection)
            └── push_to_lsl_script (marker transmission)
</code></pre><h2 id="step-by-step-setup">Step-by-Step Setup</h2>
<h3 id="1-create-the-experiment-structure">1. Create the Experiment Structure</h3>
<ol>
<li><strong>New experiment</strong>: Start with a new OpenSesame experiment</li>
<li><strong>experiment</strong>: This is your main experiment block (currently selected in the tree)</li>
<li><strong>init_lsl_script</strong>: Add an inline_script item for LSL stream initialization</li>
<li><strong>loop</strong>: Add a loop item for trial repetition - Set its repeat value to some value higher than 1 (e.g. 10).</li>
<li><strong>sequence</strong>: Inside the loop, add a sequence item</li>
<li><strong>sketchpad</strong>: Add a sketchpad for stimulus presentation</li>
<li><strong>keyboard_response</strong>: Add a keyboard_response item for collecting keystrokes to initiate markers</li>
<li><strong>push_to_lsl_script</strong>: Add another inline_script for sending markers to the LSL stream</li>
</ol>
<h3 id="2-configure-the-lsl-initialization-script">2. Configure the LSL Initialization Script</h3>
<p><strong>Item Name</strong>: <code>init_lsl_script</code><br>
<strong>Item Type</strong>: inline_script<br>
<strong>Phase</strong>: Prepare</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pylsl <span style="color:#f92672">import</span> StreamInfo, StreamOutlet
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create stream information</span>
</span></span><span style="display:flex;"><span>info <span style="color:#f92672">=</span> StreamInfo(<span style="color:#e6db74">&#39;opensesame_markers&#39;</span>, <span style="color:#e6db74">&#39;Markers&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;string&#39;</span>, <span style="color:#e6db74">&#39;os_marker_id&#39;</span>)
</span></span><span style="display:flex;"><span>outlet <span style="color:#f92672">=</span> StreamOutlet(info)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Store outlet globally for access in other scripts</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">global</span> lsl_outlet
</span></span><span style="display:flex;"><span>lsl_outlet <span style="color:#f92672">=</span> outlet
</span></span></code></pre></div><h3 id="3-configure-the-loop">3. Configure the Loop</h3>
<p><strong>Item Name</strong>: <code>loop</code><br>
<strong>Item Type</strong>: loop</p>
<ul>
<li>This controls how many times your sequence runs</li>
<li>Set the number of trials e.g. 10</li>
<li>Configure any experimental variables for your use</li>
</ul>
<h3 id="4-configure-the-stimulus-presentation">4. Configure the Stimulus Presentation</h3>
<p><strong>Item Name</strong>: <code>sketchpad</code><br>
<strong>Item Type</strong>: sketchpad</p>
<ul>
<li>Design your stimulus (text, images, etc.)</li>
<li>Set the duration to 0</li>
<li>This is where your experimental stimuli will be presented</li>
</ul>
<h3 id="5-configure-response-collection">5. Configure Response Collection</h3>
<p><strong>Item Name</strong>: <code>keyboard_response</code><br>
<strong>Item Type</strong>: keyboard_response</p>
<ul>
<li>Configure it as you wish</li>
</ul>
<h3 id="6-configure-marker-transmission-script">6. Configure Marker Transmission Script</h3>
<p><strong>Item Name</strong>: <code>push_to_lsl_script</code><br>
<strong>Item Type</strong>: inline_script<br>
<strong>Phase</strong>: Run</p>
<p>This script pushes keystrokes to the LSL stream.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">global</span> lsl_outlet
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check if response was collected</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> hasattr(var, <span style="color:#e6db74">&#39;response&#39;</span>):
</span></span><span style="display:flex;"><span>    lsl_outlet<span style="color:#f92672">.</span>push_sample([str(var<span style="color:#f92672">.</span>response)])
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Sent marker: </span><span style="color:#e6db74">{</span>var<span style="color:#f92672">.</span>response<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Invalid action.&#34;</span>)
</span></span></code></pre></div><h2 id="running-the-experiment">Running the Experiment</h2>
<h3 id="step-1-start-lsl-monitoring">Step 1: Start LSL Monitoring</h3>
<ul>
<li>Run your LSL listener script</li>
<li>Ensure it&rsquo;s waiting for the stream</li>
</ul>
<h3 id="step-2-start-streaming-with-hypersync-suit">Step 2: Start streaming with hypersync suit</h3>
<ul>
<li>For synchronising your Mentalab Explore hardware with the stimulus presentation computer, please refer to the Hypersync instructions delivered to you with your Hypersync hardware.</li>
</ul>
<h3 id="step-3-run-the-experiment-in-opensesame">Step 3: Run the Experiment in OpenSesame</h3>
<ul>
<li>Open your OpenSesame experiment</li>
<li>Run the experiment</li>
</ul>
<h3 id="step-4-check-the-received-values-in-lsl-monitoring">Step 4: Check the received values in LSL monitoring</h3>
<ul>
<li>Use <a href="https://github.com/labstreaminglayer/App-LabRecorder">LabRecorder</a> and select both the OpenSesame marker stream and your ExG data stream.</li>
<li>Optional: Use our LSL listener python script (see below) to check the received values in real-time.</li>
</ul>
<p><strong>To ensure accurate synchronisation, you must use Mentalab Hypersync and follow the instructions provided alongside your Hypersync hardware.</strong></p>
<h2 id="optional-python-script-for-listening-to-lsl-stream">Optional: Python Script for Listening to LSL Stream</h2>
<p>Create a separate Python script to monitor the LSL stream:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pylsl <span style="color:#f92672">import</span> StreamInlet, resolve_streams
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> time
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>stream_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;opensesame_markers&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Waiting for LSL stream &#39;</span><span style="color:#e6db74">{</span>stream_name<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;...&#34;</span>)
</span></span><span style="display:flex;"><span>streams <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#f92672">not</span> streams:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        all_streams <span style="color:#f92672">=</span> resolve_streams()
</span></span><span style="display:flex;"><span>        streams <span style="color:#f92672">=</span> [stream <span style="color:#66d9ef">for</span> stream <span style="color:#f92672">in</span> all_streams <span style="color:#66d9ef">if</span> stream<span style="color:#f92672">.</span>name() <span style="color:#f92672">==</span> stream_name]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> streams:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;No streams found, retrying...&#34;</span>)
</span></span><span style="display:flex;"><span>        time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">0.1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Error resolving stream: </span><span style="color:#e6db74">{</span>e<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">0.1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Stream found. Connecting...&#34;</span>)
</span></span><span style="display:flex;"><span>inlet <span style="color:#f92672">=</span> StreamInlet(streams[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Listening for markers:&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        sample, timestamp <span style="color:#f92672">=</span> inlet<span style="color:#f92672">.</span>pull_sample(timeout<span style="color:#f92672">=</span><span style="color:#ae81ff">5.0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> sample:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;[</span><span style="color:#e6db74">{</span>timestamp<span style="color:#e6db74">:</span><span style="color:#e6db74">.3f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">] Marker received: </span><span style="color:#e6db74">{</span>sample[<span style="color:#ae81ff">0</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Timeout — no marker received.&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">KeyboardInterrupt</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Stopping listener...&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Error receiving data: </span><span style="color:#e6db74">{</span>e<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h2 id="alternative-legacy-methods-wired-triggers">Alternative (Legacy) Methods: Wired Triggers</h2>
<p>While LSL with Hypersync is preferred as it enables fully wireless and highly accurate event marking, direct wired connections are also possible. Please refer to our <a href="https://wiki.mentalab.com/event-triggers/" title="Event Triggers/event-triggers">Event Triggers</a> page for further information.</p>
<br>
<p>For more information or support, do not hesitate to get in contact at: <a href="mailto:support@mentalab.com">support@mentalab.com</a></p>
<br>

    


                </div>

            </div> 

        </div> 
<p style="text-align: center;">Copyright © 2025 Mentalab</p>
<script src="https://wiki.mentalab.com/lib/jquery.min.js"></script> 
<script src="https://wiki.mentalab.com/lib/popper.min.js"></script> 

<script src="https://wiki.mentalab.com/js/bootstrap.min.js"></script> 


<script type="text/javascript" src="/plugins/lunr.min.js"></script>
<script type="text/javascript" src="/plugins/auto-complete.js"></script>
<link href="/plugins/auto-complete.css" rel="stylesheet">

<script type="text/javascript">
    var baseurl = "https:\/\/wiki.mentalab.com\/";
</script>
<script type="text/javascript" src="/plugins/search.js"></script>


<script type="text/javascript" src="/plugins/clipboard.js"></script>
<script>
  new ClipboardJS('.btn');
</script>
</body>
</html>
